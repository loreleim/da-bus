{"ast":null,"code":"import _regeneratorRuntime from\"/Users/loreleim/Desktop/Github/da-bus/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/loreleim/Desktop/Github/da-bus/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useCallback,useContext}from\"react\";import{withRouter,Redirect}from\"react-router\";import firebase from\"../../database/firebase\";import{AuthContext}from\"../../database/auth\";import style from\"./index.module.scss\";var Login=function Login(_ref){var history=_ref.history;var handleLogin=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _event$target$element,email,password;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_event$target$element=event.target.elements,email=_event$target$element.email,password=_event$target$element.password;try{firebase.auth().signInWithEmailAndPassword(email.value,password.value);history.push(\"/\");}catch(error){alert(error);}case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}(),[history]);var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;if(currentUser){return React.createElement(Redirect,{to:\"/\"});}return React.createElement(\"div\",{className:style.mainContainer},React.createElement(\"section\",{className:style.loginContainer},React.createElement(\"h1\",null,\"Log in\"),React.createElement(\"form\",{className:style.loginForm,onSubmit:handleLogin},React.createElement(\"label\",null,React.createElement(\"input\",{name:\"email\",type:\"email\",placeholder:\"Email\"})),React.createElement(\"label\",null,React.createElement(\"input\",{name:\"password\",type:\"password\",placeholder:\"Password\"})),React.createElement(\"button\",{type:\"submit\"},\"Log in\"))));};export default withRouter(Login);","map":{"version":3,"sources":["/Users/loreleim/Desktop/Github/da-bus/src/pages/login/index.js"],"names":["React","useCallback","useContext","withRouter","Redirect","firebase","AuthContext","style","Login","history","handleLogin","event","preventDefault","target","elements","email","password","auth","signInWithEmailAndPassword","value","push","error","alert","currentUser","mainContainer","loginContainer","loginForm"],"mappings":"6OAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,UAA7B,KAA+C,OAA/C,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,cAArC,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,OAASC,WAAT,KAA4B,qBAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAC7B,GAAMC,CAAAA,WAAW,CAAGT,WAAW,2FAC7B,iBAAOU,KAAP,2JACEA,KAAK,CAACC,cAAN,GADF,sBAE8BD,KAAK,CAACE,MAAN,CAAaC,QAF3C,CAEUC,KAFV,uBAEUA,KAFV,CAEiBC,QAFjB,uBAEiBA,QAFjB,CAGE,GAAI,CACFX,QAAQ,CAACY,IAAT,GAAgBC,0BAAhB,CAA2CH,KAAK,CAACI,KAAjD,CAAwDH,QAAQ,CAACG,KAAjE,EACAV,OAAO,CAACW,IAAR,CAAa,GAAb,EACD,CAAC,MAAOC,KAAP,CAAc,CACdC,KAAK,CAACD,KAAD,CAAL,CACD,CARH,sDAD6B,gEAW7B,CAACZ,OAAD,CAX6B,CAA/B,CAD6B,gBAeLP,UAAU,CAACI,WAAD,CAfL,CAerBiB,WAfqB,aAerBA,WAfqB,CAiB7B,GAAIA,WAAJ,CAAiB,CACf,MAAO,qBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACD,CAED,MACE,4BAAK,SAAS,CAAEhB,KAAK,CAACiB,aAAtB,EACE,+BAAS,SAAS,CAAEjB,KAAK,CAACkB,cAA1B,EACE,uCADF,CAEE,4BAAM,SAAS,CAAElB,KAAK,CAACmB,SAAvB,CAAkC,QAAQ,CAAEhB,WAA5C,EACE,iCACE,6BAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,WAAW,CAAC,OAA7C,EADF,CADF,CAIE,iCACE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,WAAW,CAAC,UAAnD,EADF,CAJF,CAOE,8BAAQ,IAAI,CAAC,QAAb,WAPF,CAFF,CADF,CADF,CAgBD,CArCD,CAuCA,cAAeP,CAAAA,UAAU,CAACK,KAAD,CAAzB","sourcesContent":["import React, { useCallback, useContext } from \"react\";\nimport { withRouter, Redirect } from \"react-router\";\nimport firebase from \"../../database/firebase\";\nimport { AuthContext } from \"../../database/auth\";\nimport style from \"./index.module.scss\";\n\nconst Login = ({ history }) => {\n  const handleLogin = useCallback(\n    async (event) => {\n      event.preventDefault();\n      const { email, password } = event.target.elements;\n      try {\n        firebase.auth().signInWithEmailAndPassword(email.value, password.value);\n        history.push(\"/\");\n      } catch (error) {\n        alert(error);\n      }\n    },\n    [history]\n  );\n\n  const { currentUser } = useContext(AuthContext);\n\n  if (currentUser) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <div className={style.mainContainer}>\n      <section className={style.loginContainer}>\n        <h1>Log in</h1>\n        <form className={style.loginForm} onSubmit={handleLogin}>\n          <label>\n            <input name=\"email\" type=\"email\" placeholder=\"Email\" />\n          </label>\n          <label>\n            <input name=\"password\" type=\"password\" placeholder=\"Password\" />\n          </label>\n          <button type=\"submit\">Log in</button>\n        </form>\n      </section>\n    </div>\n  );\n};\n\nexport default withRouter(Login);\n"]},"metadata":{},"sourceType":"module"}